"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("_pages-dir-browser_components_CanvasContainer_js",{

/***/ "(pages-dir-browser)/./components/Canvas.js":
/*!******************************!*\
  !*** ./components/Canvas.js ***!
  \******************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(pages-dir-browser)/./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(pages-dir-browser)/./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _utils_canvasUtils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils/canvasUtils */ \"(pages-dir-browser)/./components/utils/canvasUtils.js\");\n/* harmony import */ var _barrel_optimize_names_PencilLine_lucide_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! __barrel_optimize__?names=PencilLine!=!lucide-react */ \"(pages-dir-browser)/__barrel_optimize__?names=PencilLine!=!./node_modules/lucide-react/dist/esm/lucide-react.js\");\n\nvar _s = $RefreshSig$();\n\n\n\nconst Canvas = (param)=>{\n    let { canvasRef, currentTool, isDrawing, startDrawing, draw, stopDrawing, handleCanvasClick, handlePenClick, handleGeneration, tempPoints, setTempPoints } = param;\n    _s();\n    const [showBezierGuides, setShowBezierGuides] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [activePoint, setActivePoint] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(-1);\n    const [activeHandle, setActiveHandle] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [symmetric, setSymmetric] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [lastMousePos, setLastMousePos] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        x: 0,\n        y: 0\n    });\n    const [hasDrawing, setHasDrawing] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [strokeCount, setStrokeCount] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    // Add touch event prevention function\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"Canvas.useEffect\": ()=>{\n            // Function to prevent default touch behavior on canvas\n            const preventTouchDefault = {\n                \"Canvas.useEffect.preventTouchDefault\": (e)=>{\n                    if (isDrawing) {\n                        e.preventDefault();\n                    }\n                }\n            }[\"Canvas.useEffect.preventTouchDefault\"];\n            // Add event listener when component mounts\n            const canvas = canvasRef.current;\n            if (canvas) {\n                canvas.addEventListener('touchstart', preventTouchDefault, {\n                    passive: false\n                });\n                canvas.addEventListener('touchmove', preventTouchDefault, {\n                    passive: false\n                });\n            }\n            // Remove event listener when component unmounts\n            return ({\n                \"Canvas.useEffect\": ()=>{\n                    if (canvas) {\n                        canvas.removeEventListener('touchstart', preventTouchDefault);\n                        canvas.removeEventListener('touchmove', preventTouchDefault);\n                    }\n                }\n            })[\"Canvas.useEffect\"];\n        }\n    }[\"Canvas.useEffect\"], [\n        isDrawing,\n        canvasRef\n    ]);\n    // Add debugging info to console\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"Canvas.useEffect\": ()=>{\n            console.log('Canvas tool changed or isDrawing changed:', {\n                currentTool,\n                isDrawing\n            });\n        }\n    }[\"Canvas.useEffect\"], [\n        currentTool,\n        isDrawing\n    ]);\n    // Redraw bezier guides and control points when tempPoints change\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"Canvas.useEffect\": ()=>{\n            if (currentTool === 'pen' && tempPoints.length > 0 && showBezierGuides) {\n                redrawBezierGuides();\n            }\n        }\n    }[\"Canvas.useEffect\"], [\n        tempPoints,\n        showBezierGuides,\n        currentTool\n    ]);\n    // Add useEffect to check if canvas has content\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"Canvas.useEffect\": ()=>{\n            const canvas = canvasRef.current;\n            if (!canvas) return;\n            const ctx = canvas.getContext('2d');\n            const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);\n            // Check if canvas has any non-white pixels (i.e., has a drawing)\n            const hasNonWhitePixels = Array.from(imageData.data).some({\n                \"Canvas.useEffect.hasNonWhitePixels\": (pixel, index)=>{\n                    // Check only RGB values (skip alpha)\n                    return index % 4 !== 3 && pixel !== 255;\n                }\n            }[\"Canvas.useEffect.hasNonWhitePixels\"]);\n            setHasDrawing(hasNonWhitePixels);\n        }\n    }[\"Canvas.useEffect\"], [\n        canvasRef\n    ]);\n    const handleKeyDown = (e)=>{\n        // Add keyboard accessibility\n        if (e.key === 'Enter' || e.key === ' ') {\n            handleCanvasClick(e);\n        }\n        // Toggle symmetric handles with Shift key\n        if (e.key === 'Shift') {\n            setSymmetric(!symmetric);\n        }\n    };\n    // Draw bezier control points and guide lines\n    const redrawBezierGuides = ()=>{\n        const canvas = canvasRef.current;\n        if (!canvas) return;\n        // Get the canvas context\n        const ctx = canvas.getContext('2d');\n        // Save the current canvas state to redraw later\n        const canvasImage = new Image();\n        canvasImage.src = canvas.toDataURL();\n        canvasImage.onload = ()=>{\n            // Clear canvas\n            ctx.clearRect(0, 0, canvas.width, canvas.height);\n            // Redraw the canvas content\n            ctx.drawImage(canvasImage, 0, 0);\n            // Draw the control points and guide lines\n            (0,_utils_canvasUtils__WEBPACK_IMPORTED_MODULE_2__.drawBezierGuides)(ctx, tempPoints);\n        };\n    };\n    // Custom handler for stopping drawing with pen tool\n    const handleStopDrawing = (e)=>{\n        console.log('handleStopDrawing called', {\n            eventType: e === null || e === void 0 ? void 0 : e.type,\n            currentTool,\n            isDrawing,\n            activePoint,\n            activeHandle\n        });\n        // If we're using the pen tool with active point or handle\n        if (currentTool === 'pen') {\n            // If we were dragging a handle, just release it\n            if (activeHandle) {\n                setActiveHandle(null);\n                return;\n            }\n            // If we were dragging an anchor point, just release it\n            if (activePoint !== -1) {\n                setActivePoint(-1);\n                return;\n            }\n        }\n        stopDrawing(e);\n        // If using the pencil tool and we've just finished a drag, trigger generation\n        if (currentTool === 'pencil' && isDrawing) {\n            console.log(\"\".concat(currentTool, \" tool condition met, will try to trigger generation\"));\n            // Small delay to ensure the drawing is complete\n            setTimeout(()=>{\n                console.log('Attempting to call handleGeneration after timeout');\n                if (typeof handleGeneration === 'function') {\n                    console.log('Calling handleGeneration function');\n                    handleGeneration();\n                } else {\n                    console.error('handleGeneration is not a function:', handleGeneration);\n                }\n            }, 100);\n        } else {\n            console.log('Generation not triggered because:', {\n                isPenTool: currentTool === 'pen',\n                isPencilTool: currentTool === 'pencil',\n                wasDrawing: isDrawing\n            });\n        }\n    };\n    // Check if we clicked on an existing point or handle\n    const checkForPointOrHandle = (e)=>{\n        if (currentTool !== 'pen' || !showBezierGuides || tempPoints.length === 0) {\n            return false;\n        }\n        const canvas = canvasRef.current;\n        const { x, y } = (0,_utils_canvasUtils__WEBPACK_IMPORTED_MODULE_2__.getCoordinates)(e, canvas);\n        setLastMousePos({\n            x,\n            y\n        });\n        // Check if we clicked on a handle\n        for(let i = 0; i < tempPoints.length; i++){\n            const point = tempPoints[i];\n            // Check for handleIn\n            if ((0,_utils_canvasUtils__WEBPACK_IMPORTED_MODULE_2__.isNearHandle)(point, 'handleIn', x, y)) {\n                setActivePoint(i);\n                setActiveHandle('handleIn');\n                return true;\n            }\n            // Check for handleOut\n            if ((0,_utils_canvasUtils__WEBPACK_IMPORTED_MODULE_2__.isNearHandle)(point, 'handleOut', x, y)) {\n                setActivePoint(i);\n                setActiveHandle('handleOut');\n                return true;\n            }\n            // Check for the anchor point itself\n            const distance = Math.sqrt((point.x - x) ** 2 + (point.y - y) ** 2);\n            if (distance <= 10) {\n                setActivePoint(i);\n                setActiveHandle(null);\n                return true;\n            }\n        }\n        return false;\n    };\n    // Handle mouse move for bezier control point or handle dragging\n    const handleBezierMouseMove = (e)=>{\n        if (currentTool !== 'pen') {\n            return false;\n        }\n        const canvas = canvasRef.current;\n        const { x, y } = (0,_utils_canvasUtils__WEBPACK_IMPORTED_MODULE_2__.getCoordinates)(e, canvas);\n        const dx = x - lastMousePos.x;\n        const dy = y - lastMousePos.y;\n        // If we're dragging a handle\n        if (activePoint !== -1 && activeHandle) {\n            const newPoints = [\n                ...tempPoints\n            ];\n            (0,_utils_canvasUtils__WEBPACK_IMPORTED_MODULE_2__.updateHandle)(newPoints[activePoint], activeHandle, dx, dy, symmetric);\n            setTempPoints(newPoints);\n            setLastMousePos({\n                x,\n                y\n            });\n            return true;\n        }\n        // If we're dragging an anchor point\n        if (activePoint !== -1) {\n            const newPoints = [\n                ...tempPoints\n            ];\n            newPoints[activePoint].x += dx;\n            newPoints[activePoint].y += dy;\n            // If this point has handles, move them with the point\n            if (newPoints[activePoint].handleIn) {\n            // No need to change the handle's offset, just move with the point\n            }\n            if (newPoints[activePoint].handleOut) {\n            // No need to change the handle's offset, just move with the point\n            }\n            setTempPoints(newPoints);\n            setLastMousePos({\n                x,\n                y\n            });\n            return true;\n        }\n        return false;\n    };\n    // Handle clicks for bezier curve tool\n    const handlePenToolClick = (e)=>{\n        const canvas = canvasRef.current;\n        const { x, y } = (0,_utils_canvasUtils__WEBPACK_IMPORTED_MODULE_2__.getCoordinates)(e, canvas);\n        // Add a new point\n        if (tempPoints.length === 0) {\n            // First point has no handles initially\n            const newPoint = {\n                x,\n                y,\n                handleIn: null,\n                handleOut: null\n            };\n            setTempPoints([\n                newPoint\n            ]);\n        } else {\n            // Create a new point with handles relative to the last point\n            const newPoint = (0,_utils_canvasUtils__WEBPACK_IMPORTED_MODULE_2__.createAnchorPoint)(x, y, tempPoints[tempPoints.length - 1]);\n            setTempPoints([\n                ...tempPoints,\n                newPoint\n            ]);\n        }\n        // Always show guides when adding points\n        setShowBezierGuides(true);\n    };\n    // Toggle bezier guide visibility\n    const toggleBezierGuides = ()=>{\n        setShowBezierGuides(!showBezierGuides);\n        if (showBezierGuides) {\n            redrawBezierGuides();\n        }\n    };\n    // Draw the final bezier curve and clear control points\n    const finalizeBezierCurve = ()=>{\n        if (tempPoints.length < 2) {\n            // Need at least 2 points for a path\n            console.log('Need at least 2 control points to draw a path');\n            return;\n        }\n        const canvas = canvasRef.current;\n        // Draw the actual bezier curve\n        (0,_utils_canvasUtils__WEBPACK_IMPORTED_MODULE_2__.drawBezierCurve)(canvas, tempPoints);\n        // Hide guides and reset control points\n        setShowBezierGuides(false);\n        setTempPoints([]);\n        // Trigger generation\n        setTimeout(()=>{\n            if (typeof handleGeneration === 'function') {\n                handleGeneration();\n            }\n        }, 100);\n    };\n    // Add control point to segment\n    const addControlPoint = (e)=>{\n        if (currentTool !== 'pen' || tempPoints.length < 2) return;\n        const canvas = canvasRef.current;\n        const { x, y } = (0,_utils_canvasUtils__WEBPACK_IMPORTED_MODULE_2__.getCoordinates)(e, canvas);\n        // Find the closest segment to add a point to\n        let closestDistance = Number.POSITIVE_INFINITY;\n        let insertIndex = -1;\n        for(let i = 0; i < tempPoints.length - 1; i++){\n            const p1 = tempPoints[i];\n            const p2 = tempPoints[i + 1];\n            // Calculate distance from click to line between points\n            // This is a simplified distance calculation for demo purposes\n            const lineLength = Math.sqrt((p2.x - p1.x) ** 2 + (p2.y - p1.y) ** 2);\n            if (lineLength === 0) continue;\n            // Project point onto line\n            const t = ((x - p1.x) * (p2.x - p1.x) + (y - p1.y) * (p2.y - p1.y)) / (lineLength * lineLength);\n            // If projection is outside the line segment, skip\n            if (t < 0 || t > 1) continue;\n            // Calculate closest point on line\n            const closestX = p1.x + t * (p2.x - p1.x);\n            const closestY = p1.y + t * (p2.y - p1.y);\n            // Calculate distance to closest point\n            const distance = Math.sqrt((x - closestX) ** 2 + (y - closestY) ** 2);\n            if (distance < closestDistance && distance < 20) {\n                closestDistance = distance;\n                insertIndex = i + 1;\n            }\n        }\n        if (insertIndex > 0) {\n            // Create a new array with the new point inserted\n            const newPoints = [\n                ...tempPoints\n            ];\n            const prevPoint = newPoints[insertIndex - 1];\n            const nextPoint = newPoints[insertIndex];\n            // Create a new point at the click position with automatically calculated handles\n            const newPoint = {\n                x,\n                y,\n                // Calculate handles based on the positions of adjacent points\n                handleIn: {\n                    x: (prevPoint.x - x) * 0.25,\n                    y: (prevPoint.y - y) * 0.25\n                },\n                handleOut: {\n                    x: (nextPoint.x - x) * 0.25,\n                    y: (nextPoint.y - y) * 0.25\n                }\n            };\n            // Insert the new point\n            newPoints.splice(insertIndex, 0, newPoint);\n            setTempPoints(newPoints);\n        }\n    };\n    // Wrap the original startDrawing function to handle empty canvas\n    const handleStartDrawing = (e)=>{\n        // Call the original startDrawing function\n        startDrawing(e);\n        setHasDrawing(true);\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"relative\",\n        children: [\n            currentTool === 'pen' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex flex-wrap mb-2 gap-2\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        type: \"button\",\n                        onClick: toggleBezierGuides,\n                        className: \"px-2 py-1 bg-blue-500 text-white rounded text-sm\",\n                        children: showBezierGuides ? 'Hide Guides' : 'Show Guides'\n                    }, void 0, false, {\n                        fileName: \"/Users/trudyp/Desktop/dev-gemini-2.0/components/Canvas.js\",\n                        lineNumber: 386,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        type: \"button\",\n                        onClick: ()=>setSymmetric(!symmetric),\n                        className: \"px-2 py-1 \".concat(symmetric ? 'bg-green-500' : 'bg-gray-500', \" text-white rounded text-sm\"),\n                        children: symmetric ? 'Symmetric Handles' : 'Free Handles'\n                    }, void 0, false, {\n                        fileName: \"/Users/trudyp/Desktop/dev-gemini-2.0/components/Canvas.js\",\n                        lineNumber: 394,\n                        columnNumber: 11\n                    }, undefined),\n                    tempPoints.length >= 2 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        type: \"button\",\n                        onClick: finalizeBezierCurve,\n                        className: \"px-2 py-1 bg-green-500 text-white rounded text-sm\",\n                        children: \"Draw Path\"\n                    }, void 0, false, {\n                        fileName: \"/Users/trudyp/Desktop/dev-gemini-2.0/components/Canvas.js\",\n                        lineNumber: 403,\n                        columnNumber: 13\n                    }, undefined),\n                    tempPoints.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        type: \"button\",\n                        onClick: ()=>setTempPoints([]),\n                        className: \"px-2 py-1 bg-red-500 text-white rounded text-sm\",\n                        children: \"Clear Points\"\n                    }, void 0, false, {\n                        fileName: \"/Users/trudyp/Desktop/dev-gemini-2.0/components/Canvas.js\",\n                        lineNumber: 413,\n                        columnNumber: 13\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: \"text-sm ml-2\",\n                        children: [\n                            tempPoints.length,\n                            \" point\",\n                            tempPoints.length !== 1 ? 's' : '',\n                            tempPoints.length >= 2 ? ' (ready)' : ' (need 2+)'\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/trudyp/Desktop/dev-gemini-2.0/components/Canvas.js\",\n                        lineNumber: 422,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"w-full text-xs text-gray-600 mt-1\",\n                        children: \"Tip: Click to add points, click + drag handles to adjust curves, double-click on segments to add points\"\n                    }, void 0, false, {\n                        fileName: \"/Users/trudyp/Desktop/dev-gemini-2.0/components/Canvas.js\",\n                        lineNumber: 427,\n                        columnNumber: 11\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/trudyp/Desktop/dev-gemini-2.0/components/Canvas.js\",\n                lineNumber: 385,\n                columnNumber: 9\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"relative\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"canvas\", {\n                        ref: canvasRef,\n                        width: 960,\n                        height: 540,\n                        onMouseDown: (e)=>{\n                            console.log('Canvas onMouseDown', {\n                                currentTool,\n                                isDrawing\n                            });\n                            // For pen (bezier) tool, handle differently\n                            if (currentTool === 'pen') {\n                                // Check if we clicked on an existing point or handle\n                                if (!checkForPointOrHandle(e)) {\n                                    // If not interacting with existing points/handles, add a new point\n                                    handlePenToolClick(e);\n                                }\n                            } else {\n                                // For other tools, use the regular drawing behavior\n                                console.log('Executing regular startDrawing handler');\n                                handleStartDrawing(e);\n                            }\n                        },\n                        onMouseMove: (e)=>{\n                            // For pen (bezier) tool, handle control point/handle dragging\n                            if (currentTool === 'pen' && handleBezierMouseMove(e)) {\n                                // If we handled a bezier element move, return early\n                                return;\n                            }\n                            // For other tools, use regular drawing\n                            draw(e);\n                        },\n                        onMouseUp: (e)=>{\n                            console.log('onMouseUp event triggered', {\n                                currentTool,\n                                isDrawing\n                            });\n                            handleStopDrawing(e);\n                        },\n                        onMouseLeave: (e)=>{\n                            console.log('onMouseLeave event triggered', {\n                                currentTool,\n                                isDrawing\n                            });\n                            handleStopDrawing(e);\n                        },\n                        onDoubleClick: (e)=>{\n                            if (currentTool === 'pen') {\n                                addControlPoint(e);\n                            } else {\n                                handleCanvasClick(e);\n                            }\n                        },\n                        onClick: handleCanvasClick,\n                        onTouchStart: handleStartDrawing,\n                        onTouchMove: draw,\n                        onTouchEnd: handleStopDrawing,\n                        onKeyDown: handleKeyDown,\n                        tabIndex: 0,\n                        className: \"border-2 border-black w-full sm:h-[60vh] h-[30vh] min-h-[320px] bg-white/90 touch-none \".concat(currentTool === 'pen' ? 'cursor-crosshair' : 'hover:cursor-crosshair'),\n                        \"aria-label\": \"Drawing canvas\"\n                    }, void 0, false, {\n                        fileName: \"/Users/trudyp/Desktop/dev-gemini-2.0/components/Canvas.js\",\n                        lineNumber: 434,\n                        columnNumber: 9\n                    }, undefined),\n                    !hasDrawing && !isDrawing && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"absolute inset-0 flex items-center justify-center pointer-events-none\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_PencilLine_lucide_react__WEBPACK_IMPORTED_MODULE_3__.PencilLine, {\n                            className: \"text-gray-400 text-xl\",\n                            size: 32\n                        }, void 0, false, {\n                            fileName: \"/Users/trudyp/Desktop/dev-gemini-2.0/components/Canvas.js\",\n                            lineNumber: 494,\n                            columnNumber: 13\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/Users/trudyp/Desktop/dev-gemini-2.0/components/Canvas.js\",\n                        lineNumber: 493,\n                        columnNumber: 11\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/trudyp/Desktop/dev-gemini-2.0/components/Canvas.js\",\n                lineNumber: 433,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/trudyp/Desktop/dev-gemini-2.0/components/Canvas.js\",\n        lineNumber: 383,\n        columnNumber: 5\n    }, undefined);\n};\n_s(Canvas, \"FE+guw1aGCajRuwpOxHqFERoNxg=\");\n_c = Canvas;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Canvas);\nvar _c;\n$RefreshReg$(_c, \"Canvas\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1icm93c2VyKS8uL2NvbXBvbmVudHMvQ2FudmFzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFvRDtBQVF2QjtBQUNhO0FBRTFDLE1BQU1VLFNBQVM7UUFBQyxFQUNkQyxTQUFTLEVBQ1RDLFdBQVcsRUFDWEMsU0FBUyxFQUNUQyxZQUFZLEVBQ1pDLElBQUksRUFDSkMsV0FBVyxFQUNYQyxpQkFBaUIsRUFDakJDLGNBQWMsRUFDZEMsZ0JBQWdCLEVBQ2hCQyxVQUFVLEVBQ1ZDLGFBQWEsRUFDZDs7SUFDQyxNQUFNLENBQUNDLGtCQUFrQkMsb0JBQW9CLEdBQUdyQiwrQ0FBUUEsQ0FBQztJQUN6RCxNQUFNLENBQUNzQixhQUFhQyxlQUFlLEdBQUd2QiwrQ0FBUUEsQ0FBQyxDQUFDO0lBQ2hELE1BQU0sQ0FBQ3dCLGNBQWNDLGdCQUFnQixHQUFHekIsK0NBQVFBLENBQUM7SUFDakQsTUFBTSxDQUFDMEIsV0FBV0MsYUFBYSxHQUFHM0IsK0NBQVFBLENBQUM7SUFDM0MsTUFBTSxDQUFDNEIsY0FBY0MsZ0JBQWdCLEdBQUc3QiwrQ0FBUUEsQ0FBQztRQUFFOEIsR0FBRztRQUFHQyxHQUFHO0lBQUU7SUFDOUQsTUFBTSxDQUFDQyxZQUFZQyxjQUFjLEdBQUdqQywrQ0FBUUEsQ0FBQztJQUM3QyxNQUFNLENBQUNrQyxhQUFhQyxlQUFlLEdBQUduQywrQ0FBUUEsQ0FBQztJQUUvQyxzQ0FBc0M7SUFDdENELGdEQUFTQTs0QkFBQztZQUNSLHVEQUF1RDtZQUN2RCxNQUFNcUM7d0RBQXNCLENBQUNDO29CQUMzQixJQUFJMUIsV0FBVzt3QkFDYjBCLEVBQUVDLGNBQWM7b0JBQ2xCO2dCQUNGOztZQUVBLDJDQUEyQztZQUMzQyxNQUFNQyxTQUFTOUIsVUFBVStCLE9BQU87WUFDaEMsSUFBSUQsUUFBUTtnQkFDVkEsT0FBT0UsZ0JBQWdCLENBQUMsY0FBY0wscUJBQXFCO29CQUFFTSxTQUFTO2dCQUFNO2dCQUM1RUgsT0FBT0UsZ0JBQWdCLENBQUMs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O0tBQUFBO0FBMGVOLGlFQUFlQSxNQUFNQSxFQUFDIiwic291cmNlcyI6WyIvVXNlcnMvdHJ1ZHlwL0Rlc2t0b3AvZGV2LWdlbWluaS0yLjAvY29tcG9uZW50cy9DYW52YXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlUmVmLCB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgXG4gIGdldENvb3JkaW5hdGVzLCBcbiAgZHJhd0JlemllckN1cnZlLCBcbiAgZHJhd0Jlemllckd1aWRlcywgXG4gIGNyZWF0ZUFuY2hvclBvaW50LFxuICBpc05lYXJIYW5kbGUsXG4gIHVwZGF0ZUhhbmRsZVxufSBmcm9tICcuL3V0aWxzL2NhbnZhc1V0aWxzJztcbmltcG9ydCB7IFBlbmNpbExpbmUgfSBmcm9tICdsdWNpZGUtcmVhY3QnO1xuXG5jb25zdCBDYW52YXMgPSAoe1xuICBjYW52YXNSZWYsXG4gIGN1cnJlbnRUb29sLFxuICBpc0RyYXdpbmcsXG4gIHN0YXJ0RHJhd2luZyxcbiAgZHJhdyxcbiAgc3RvcERyYXdpbmcsXG4gIGhhbmRsZUNhbnZhc0NsaWNrLFxuICBoYW5kbGVQZW5DbGljayxcbiAgaGFuZGxlR2VuZXJhdGlvbixcbiAgdGVtcFBvaW50cyxcbiAgc2V0VGVtcFBvaW50c1xufSkgPT4ge1xuICBjb25zdCBbc2hvd0Jlemllckd1aWRlcywgc2V0U2hvd0Jlemllckd1aWRlc10gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW2FjdGl2ZVBvaW50LCBzZXRBY3RpdmVQb2ludF0gPSB1c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IFthY3RpdmVIYW5kbGUsIHNldEFjdGl2ZUhhbmRsZV0gPSB1c2VTdGF0ZShudWxsKTtcbiAgY29uc3QgW3N5bW1ldHJpYywgc2V0U3ltbWV0cmljXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBbbGFzdE1vdXNlUG9zLCBzZXRMYXN0TW91c2VQb3NdID0gdXNlU3RhdGUoeyB4OiAwLCB5OiAwIH0pO1xuICBjb25zdCBbaGFzRHJhd2luZywgc2V0SGFzRHJhd2luZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtzdHJva2VDb3VudCwgc2V0U3Ryb2tlQ291bnRdID0gdXNlU3RhdGUoMCk7XG5cbiAgLy8gQWRkIHRvdWNoIGV2ZW50IHByZXZlbnRpb24gZnVuY3Rpb25cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyBGdW5jdGlvbiB0byBwcmV2ZW50IGRlZmF1bHQgdG91Y2ggYmVoYXZpb3Igb24gY2FudmFzXG4gICAgY29uc3QgcHJldmVudFRvdWNoRGVmYXVsdCA9IChlKSA9PiB7XG4gICAgICBpZiAoaXNEcmF3aW5nKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gQWRkIGV2ZW50IGxpc3RlbmVyIHdoZW4gY29tcG9uZW50IG1vdW50c1xuICAgIGNvbnN0IGNhbnZhcyA9IGNhbnZhc1JlZi5jdXJyZW50O1xuICAgIGlmIChjYW52YXMpIHtcbiAgICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgcHJldmVudFRvdWNoRGVmYXVsdCwgeyBwYXNzaXZlOiBmYWxzZSB9KTtcbiAgICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCBwcmV2ZW50VG91Y2hEZWZhdWx0LCB7IHBhc3NpdmU6IGZhbHNlIH0pO1xuICAgIH1cblxuICAgIC8vIFJlbW92ZSBldmVudCBsaXN0ZW5lciB3aGVuIGNvbXBvbmVudCB1bm1vdW50c1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBpZiAoY2FudmFzKSB7XG4gICAgICAgIGNhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgcHJldmVudFRvdWNoRGVmYXVsdCk7XG4gICAgICAgIGNhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCBwcmV2ZW50VG91Y2hEZWZhdWx0KTtcbiAgICAgIH1cbiAgICB9O1xuICB9LCBbaXNEcmF3aW5nLCBjYW52YXNSZWZdKTtcblxuICAvLyBBZGQgZGVidWdnaW5nIGluZm8gdG8gY29uc29sZVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCdDYW52YXMgdG9vbCBjaGFuZ2VkIG9yIGlzRHJhd2luZyBjaGFuZ2VkOicsIHsgY3VycmVudFRvb2wsIGlzRHJhd2luZyB9KTtcbiAgfSwgW2N1cnJlbnRUb29sLCBpc0RyYXdpbmddKTtcblxuICAvLyBSZWRyYXcgYmV6aWVyIGd1aWRlcyBhbmQgY29udHJvbCBwb2ludHMgd2hlbiB0ZW1wUG9pbnRzIGNoYW5nZVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChjdXJyZW50VG9vbCA9PT0gJ3BlbicgJiYgdGVtcFBvaW50cy5sZW5ndGggPiAwICYmIHNob3dCZXppZXJHdWlkZXMpIHtcbiAgICAgIHJlZHJhd0Jlemllckd1aWRlcygpO1xuICAgIH1cbiAgfSwgW3RlbXBQb2ludHMsIHNob3dCZXppZXJHdWlkZXMsIGN1cnJlbnRUb29sXSk7XG5cbiAgLy8gQWRkIHVzZUVmZmVjdCB0byBjaGVjayBpZiBjYW52YXMgaGFzIGNvbnRlbnRcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBjYW52YXMgPSBjYW52YXNSZWYuY3VycmVudDtcbiAgICBpZiAoIWNhbnZhcykgcmV0dXJuO1xuICAgIFxuICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgIGNvbnN0IGltYWdlRGF0YSA9IGN0eC5nZXRJbWFnZURhdGEoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICBcbiAgICAvLyBDaGVjayBpZiBjYW52YXMgaGFzIGFueSBub24td2hpdGUgcGl4ZWxzIChpLmUuLCBoYXMgYSBkcmF3aW5nKVxuICAgIGNvbnN0IGhhc05vbldoaXRlUGl4ZWxzID0gQXJyYXkuZnJvbShpbWFnZURhdGEuZGF0YSkuc29tZSgocGl4ZWwsIGluZGV4KSA9PiB7XG4gICAgICAvLyBDaGVjayBvbmx5IFJHQiB2YWx1ZXMgKHNraXAgYWxwaGEpXG4gICAgICByZXR1cm4gaW5kZXggJSA0ICE9PSAzICYmIHBpeGVsICE9PSAyNTU7XG4gICAgfSk7XG4gICAgXG4gICAgc2V0SGFzRHJhd2luZyhoYXNOb25XaGl0ZVBpeGVscyk7XG4gIH0sIFtjYW52YXNSZWZdKTtcblxuICBjb25zdCBoYW5kbGVLZXlEb3duID0gKGUpID0+IHtcbiAgICAvLyBBZGQga2V5Ym9hcmQgYWNjZXNzaWJpbGl0eVxuICAgIGlmIChlLmtleSA9PT0gJ0VudGVyJyB8fCBlLmtleSA9PT0gJyAnKSB7XG4gICAgICBoYW5kbGVDYW52YXNDbGljayhlKTtcbiAgICB9XG4gICAgXG4gICAgLy8gVG9nZ2xlIHN5bW1ldHJpYyBoYW5kbGVzIHdpdGggU2hpZnQga2V5XG4gICAgaWYgKGUua2V5ID09PSAnU2hpZnQnKSB7XG4gICAgICBzZXRTeW1tZXRyaWMoIXN5bW1ldHJpYyk7XG4gICAgfVxuICB9O1xuXG4gIC8vIERyYXcgYmV6aWVyIGNvbnRyb2wgcG9pbnRzIGFuZCBndWlkZSBsaW5lc1xuICBjb25zdCByZWRyYXdCZXppZXJHdWlkZXMgPSAoKSA9PiB7XG4gICAgY29uc3QgY2FudmFzID0gY2FudmFzUmVmLmN1cnJlbnQ7XG4gICAgaWYgKCFjYW52YXMpIHJldHVybjtcbiAgICBcbiAgICAvLyBHZXQgdGhlIGNhbnZhcyBjb250ZXh0XG4gICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgXG4gICAgLy8gU2F2ZSB0aGUgY3VycmVudCBjYW52YXMgc3RhdGUgdG8gcmVkcmF3IGxhdGVyXG4gICAgY29uc3QgY2FudmFzSW1hZ2UgPSBuZXcgSW1hZ2UoKTtcbiAgICBjYW52YXNJbWFnZS5zcmMgPSBjYW52YXMudG9EYXRhVVJMKCk7XG4gICAgXG4gICAgY2FudmFzSW1hZ2Uub25sb2FkID0gKCkgPT4ge1xuICAgICAgLy8gQ2xlYXIgY2FudmFzXG4gICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgICBcbiAgICAgIC8vIFJlZHJhdyB0aGUgY2FudmFzIGNvbnRlbnRcbiAgICAgIGN0eC5kcmF3SW1hZ2UoY2FudmFzSW1hZ2UsIDAsIDApO1xuICAgICAgXG4gICAgICAvLyBEcmF3IHRoZSBjb250cm9sIHBvaW50cyBhbmQgZ3VpZGUgbGluZXNcbiAgICAgIGRyYXdCZXppZXJHdWlkZXMoY3R4LCB0ZW1wUG9pbnRzKTtcbiAgICB9O1xuICB9O1xuXG4gIC8vIEN1c3RvbSBoYW5kbGVyIGZvciBzdG9wcGluZyBkcmF3aW5nIHdpdGggcGVuIHRvb2xcbiAgY29uc3QgaGFuZGxlU3RvcERyYXdpbmcgPSAoZSkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCdoYW5kbGVTdG9wRHJhd2luZyBjYWxsZWQnLCB7IFxuICAgICAgZXZlbnRUeXBlOiBlPy50eXBlLCBcbiAgICAgIGN1cnJlbnRUb29sLCBcbiAgICAgIGlzRHJhd2luZywgXG4gICAgICBhY3RpdmVQb2ludCwgXG4gICAgICBhY3RpdmVIYW5kbGVcbiAgICB9KTtcbiAgICBcbiAgICAvLyBJZiB3ZSdyZSB1c2luZyB0aGUgcGVuIHRvb2wgd2l0aCBhY3RpdmUgcG9pbnQgb3IgaGFuZGxlXG4gICAgaWYgKGN1cnJlbnRUb29sID09PSAncGVuJykge1xuICAgICAgLy8gSWYgd2Ugd2VyZSBkcmFnZ2luZyBhIGhhbmRsZSwganVzdCByZWxlYXNlIGl0XG4gICAgICBpZiAoYWN0aXZlSGFuZGxlKSB7XG4gICAgICAgIHNldEFjdGl2ZUhhbmRsZShudWxsKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBJZiB3ZSB3ZXJlIGRyYWdnaW5nIGFuIGFuY2hvciBwb2ludCwganVzdCByZWxlYXNlIGl0XG4gICAgICBpZiAoYWN0aXZlUG9pbnQgIT09IC0xKSB7XG4gICAgICAgIHNldEFjdGl2ZVBvaW50KC0xKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBzdG9wRHJhd2luZyhlKTtcbiAgICBcbiAgICAvLyBJZiB1c2luZyB0aGUgcGVuY2lsIHRvb2wgYW5kIHdlJ3ZlIGp1c3QgZmluaXNoZWQgYSBkcmFnLCB0cmlnZ2VyIGdlbmVyYXRpb25cbiAgICBpZiAoY3VycmVudFRvb2wgPT09ICdwZW5jaWwnICYmIGlzRHJhd2luZykge1xuICAgICAgY29uc29sZS5sb2coYCR7Y3VycmVudFRvb2x9IHRvb2wgY29uZGl0aW9uIG1ldCwgd2lsbCB0cnkgdG8gdHJpZ2dlciBnZW5lcmF0aW9uYCk7XG4gICAgICBcbiAgICAgIC8vIFNtYWxsIGRlbGF5IHRvIGVuc3VyZSB0aGUgZHJhd2luZyBpcyBjb21wbGV0ZVxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdBdHRlbXB0aW5nIHRvIGNhbGwgaGFuZGxlR2VuZXJhdGlvbiBhZnRlciB0aW1lb3V0Jyk7XG4gICAgICAgIGlmICh0eXBlb2YgaGFuZGxlR2VuZXJhdGlvbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdDYWxsaW5nIGhhbmRsZUdlbmVyYXRpb24gZnVuY3Rpb24nKTtcbiAgICAgICAgICBoYW5kbGVHZW5lcmF0aW9uKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignaGFuZGxlR2VuZXJhdGlvbiBpcyBub3QgYSBmdW5jdGlvbjonLCBoYW5kbGVHZW5lcmF0aW9uKTtcbiAgICAgICAgfVxuICAgICAgfSwgMTAwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5sb2coJ0dlbmVyYXRpb24gbm90IHRyaWdnZXJlZCBiZWNhdXNlOicsIHsgXG4gICAgICAgIGlzUGVuVG9vbDogY3VycmVudFRvb2wgPT09ICdwZW4nLFxuICAgICAgICBpc1BlbmNpbFRvb2w6IGN1cnJlbnRUb29sID09PSAncGVuY2lsJyxcbiAgICAgICAgd2FzRHJhd2luZzogaXNEcmF3aW5nIFxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIC8vIENoZWNrIGlmIHdlIGNsaWNrZWQgb24gYW4gZXhpc3RpbmcgcG9pbnQgb3IgaGFuZGxlXG4gIGNvbnN0IGNoZWNrRm9yUG9pbnRPckhhbmRsZSA9IChlKSA9PiB7XG4gICAgaWYgKGN1cnJlbnRUb29sICE9PSAncGVuJyB8fCAhc2hvd0Jlemllckd1aWRlcyB8fCB0ZW1wUG9pbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCBjYW52YXMgPSBjYW52YXNSZWYuY3VycmVudDtcbiAgICBjb25zdCB7IHgsIHkgfSA9IGdldENvb3JkaW5hdGVzKGUsIGNhbnZhcyk7XG4gICAgc2V0TGFzdE1vdXNlUG9zKHsgeCwgeSB9KTtcbiAgICBcbiAgICAvLyBDaGVjayBpZiB3ZSBjbGlja2VkIG9uIGEgaGFuZGxlXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0ZW1wUG9pbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBwb2ludCA9IHRlbXBQb2ludHNbaV07XG4gICAgICBcbiAgICAgIC8vIENoZWNrIGZvciBoYW5kbGVJblxuICAgICAgaWYgKGlzTmVhckhhbmRsZShwb2ludCwgJ2hhbmRsZUluJywgeCwgeSkpIHtcbiAgICAgICAgc2V0QWN0aXZlUG9pbnQoaSk7XG4gICAgICAgIHNldEFjdGl2ZUhhbmRsZSgnaGFuZGxlSW4nKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIENoZWNrIGZvciBoYW5kbGVPdXRcbiAgICAgIGlmIChpc05lYXJIYW5kbGUocG9pbnQsICdoYW5kbGVPdXQnLCB4LCB5KSkge1xuICAgICAgICBzZXRBY3RpdmVQb2ludChpKTtcbiAgICAgICAgc2V0QWN0aXZlSGFuZGxlKCdoYW5kbGVPdXQnKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIENoZWNrIGZvciB0aGUgYW5jaG9yIHBvaW50IGl0c2VsZlxuICAgICAgY29uc3QgZGlzdGFuY2UgPSBNYXRoLnNxcnQoKHBvaW50LnggLSB4KSAqKiAyICsgKHBvaW50LnkgLSB5KSAqKiAyKTtcbiAgICAgIGlmIChkaXN0YW5jZSA8PSAxMCkge1xuICAgICAgICBzZXRBY3RpdmVQb2ludChpKTtcbiAgICAgICAgc2V0QWN0aXZlSGFuZGxlKG51bGwpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuICBcbiAgLy8gSGFuZGxlIG1vdXNlIG1vdmUgZm9yIGJlemllciBjb250cm9sIHBvaW50IG9yIGhhbmRsZSBkcmFnZ2luZ1xuICBjb25zdCBoYW5kbGVCZXppZXJNb3VzZU1vdmUgPSAoZSkgPT4ge1xuICAgIGlmIChjdXJyZW50VG9vbCAhPT0gJ3BlbicpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgY2FudmFzID0gY2FudmFzUmVmLmN1cnJlbnQ7XG4gICAgY29uc3QgeyB4LCB5IH0gPSBnZXRDb29yZGluYXRlcyhlLCBjYW52YXMpO1xuICAgIGNvbnN0IGR4ID0geCAtIGxhc3RNb3VzZVBvcy54O1xuICAgIGNvbnN0IGR5ID0geSAtIGxhc3RNb3VzZVBvcy55O1xuICAgIFxuICAgIC8vIElmIHdlJ3JlIGRyYWdnaW5nIGEgaGFuZGxlXG4gICAgaWYgKGFjdGl2ZVBvaW50ICE9PSAtMSAmJiBhY3RpdmVIYW5kbGUpIHtcbiAgICAgIGNvbnN0IG5ld1BvaW50cyA9IFsuLi50ZW1wUG9pbnRzXTtcbiAgICAgIHVwZGF0ZUhhbmRsZShuZXdQb2ludHNbYWN0aXZlUG9pbnRdLCBhY3RpdmVIYW5kbGUsIGR4LCBkeSwgc3ltbWV0cmljKTtcbiAgICAgIHNldFRlbXBQb2ludHMobmV3UG9pbnRzKTtcbiAgICAgIHNldExhc3RNb3VzZVBvcyh7IHgsIHkgfSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgXG4gICAgLy8gSWYgd2UncmUgZHJhZ2dpbmcgYW4gYW5jaG9yIHBvaW50XG4gICAgaWYgKGFjdGl2ZVBvaW50ICE9PSAtMSkge1xuICAgICAgY29uc3QgbmV3UG9pbnRzID0gWy4uLnRlbXBQb2ludHNdO1xuICAgICAgbmV3UG9pbnRzW2FjdGl2ZVBvaW50XS54ICs9IGR4O1xuICAgICAgbmV3UG9pbnRzW2FjdGl2ZVBvaW50XS55ICs9IGR5O1xuICAgICAgXG4gICAgICAvLyBJZiB0aGlzIHBvaW50IGhhcyBoYW5kbGVzLCBtb3ZlIHRoZW0gd2l0aCB0aGUgcG9pbnRcbiAgICAgIGlmIChuZXdQb2ludHNbYWN0aXZlUG9pbnRdLmhhbmRsZUluKSB7XG4gICAgICAgIC8vIE5vIG5lZWQgdG8gY2hhbmdlIHRoZSBoYW5kbGUncyBvZmZzZXQsIGp1c3QgbW92ZSB3aXRoIHRoZSBwb2ludFxuICAgICAgfVxuICAgICAgXG4gICAgICBpZiAobmV3UG9pbnRzW2FjdGl2ZVBvaW50XS5oYW5kbGVPdXQpIHtcbiAgICAgICAgLy8gTm8gbmVlZCB0byBjaGFuZ2UgdGhlIGhhbmRsZSdzIG9mZnNldCwganVzdCBtb3ZlIHdpdGggdGhlIHBvaW50XG4gICAgICB9XG4gICAgICBcbiAgICAgIHNldFRlbXBQb2ludHMobmV3UG9pbnRzKTtcbiAgICAgIHNldExhc3RNb3VzZVBvcyh7IHgsIHkgfSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuXG4gIC8vIEhhbmRsZSBjbGlja3MgZm9yIGJlemllciBjdXJ2ZSB0b29sXG4gIGNvbnN0IGhhbmRsZVBlblRvb2xDbGljayA9IChlKSA9PiB7XG4gICAgY29uc3QgY2FudmFzID0gY2FudmFzUmVmLmN1cnJlbnQ7XG4gICAgY29uc3QgeyB4LCB5IH0gPSBnZXRDb29yZGluYXRlcyhlLCBjYW52YXMpO1xuICAgIFxuICAgIC8vIEFkZCBhIG5ldyBwb2ludFxuICAgIGlmICh0ZW1wUG9pbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgLy8gRmlyc3QgcG9pbnQgaGFzIG5vIGhhbmRsZXMgaW5pdGlhbGx5XG4gICAgICBjb25zdCBuZXdQb2ludCA9IHsgeCwgeSwgaGFuZGxlSW46IG51bGwsIGhhbmRsZU91dDogbnVsbCB9O1xuICAgICAgc2V0VGVtcFBvaW50cyhbbmV3UG9pbnRdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gQ3JlYXRlIGEgbmV3IHBvaW50IHdpdGggaGFuZGxlcyByZWxhdGl2ZSB0byB0aGUgbGFzdCBwb2ludFxuICAgICAgY29uc3QgbmV3UG9pbnQgPSBjcmVhdGVBbmNob3JQb2ludCh4LCB5LCB0ZW1wUG9pbnRzW3RlbXBQb2ludHMubGVuZ3RoIC0gMV0pO1xuICAgICAgc2V0VGVtcFBvaW50cyhbLi4udGVtcFBvaW50cywgbmV3UG9pbnRdKTtcbiAgICB9XG4gICAgXG4gICAgLy8gQWx3YXlzIHNob3cgZ3VpZGVzIHdoZW4gYWRkaW5nIHBvaW50c1xuICAgIHNldFNob3dCZXppZXJHdWlkZXModHJ1ZSk7XG4gIH07XG4gIFxuICAvLyBUb2dnbGUgYmV6aWVyIGd1aWRlIHZpc2liaWxpdHlcbiAgY29uc3QgdG9nZ2xlQmV6aWVyR3VpZGVzID0gKCkgPT4ge1xuICAgIHNldFNob3dCZXppZXJHdWlkZXMoIXNob3dCZXppZXJHdWlkZXMpO1xuICAgIGlmIChzaG93QmV6aWVyR3VpZGVzKSB7XG4gICAgICByZWRyYXdCZXppZXJHdWlkZXMoKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gRHJhdyB0aGUgZmluYWwgYmV6aWVyIGN1cnZlIGFuZCBjbGVhciBjb250cm9sIHBvaW50c1xuICBjb25zdCBmaW5hbGl6ZUJlemllckN1cnZlID0gKCkgPT4ge1xuICAgIGlmICh0ZW1wUG9pbnRzLmxlbmd0aCA8IDIpIHtcbiAgICAgIC8vIE5lZWQgYXQgbGVhc3QgMiBwb2ludHMgZm9yIGEgcGF0aFxuICAgICAgY29uc29sZS5sb2coJ05lZWQgYXQgbGVhc3QgMiBjb250cm9sIHBvaW50cyB0byBkcmF3IGEgcGF0aCcpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCBjYW52YXMgPSBjYW52YXNSZWYuY3VycmVudDtcbiAgICBcbiAgICAvLyBEcmF3IHRoZSBhY3R1YWwgYmV6aWVyIGN1cnZlXG4gICAgZHJhd0JlemllckN1cnZlKGNhbnZhcywgdGVtcFBvaW50cyk7XG4gICAgXG4gICAgLy8gSGlkZSBndWlkZXMgYW5kIHJlc2V0IGNvbnRyb2wgcG9pbnRzXG4gICAgc2V0U2hvd0Jlemllckd1aWRlcyhmYWxzZSk7XG4gICAgc2V0VGVtcFBvaW50cyhbXSk7XG4gICAgXG4gICAgLy8gVHJpZ2dlciBnZW5lcmF0aW9uXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBpZiAodHlwZW9mIGhhbmRsZUdlbmVyYXRpb24gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgaGFuZGxlR2VuZXJhdGlvbigpO1xuICAgICAgfVxuICAgIH0sIDEwMCk7XG4gIH07XG5cbiAgLy8gQWRkIGNvbnRyb2wgcG9pbnQgdG8gc2VnbWVudFxuICBjb25zdCBhZGRDb250cm9sUG9pbnQgPSAoZSkgPT4ge1xuICAgIGlmIChjdXJyZW50VG9vbCAhPT0gJ3BlbicgfHwgdGVtcFBvaW50cy5sZW5ndGggPCAyKSByZXR1cm47XG4gICAgXG4gICAgY29uc3QgY2FudmFzID0gY2FudmFzUmVmLmN1cnJlbnQ7XG4gICAgY29uc3QgeyB4LCB5IH0gPSBnZXRDb29yZGluYXRlcyhlLCBjYW52YXMpO1xuICAgIFxuICAgIC8vIEZpbmQgdGhlIGNsb3Nlc3Qgc2VnbWVudCB0byBhZGQgYSBwb2ludCB0b1xuICAgIGxldCBjbG9zZXN0RGlzdGFuY2UgPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG4gICAgbGV0IGluc2VydEluZGV4ID0gLTE7XG4gICAgXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0ZW1wUG9pbnRzLmxlbmd0aCAtIDE7IGkrKykge1xuICAgICAgY29uc3QgcDEgPSB0ZW1wUG9pbnRzW2ldO1xuICAgICAgY29uc3QgcDIgPSB0ZW1wUG9pbnRzW2kgKyAxXTtcbiAgICAgIFxuICAgICAgLy8gQ2FsY3VsYXRlIGRpc3RhbmNlIGZyb20gY2xpY2sgdG8gbGluZSBiZXR3ZWVuIHBvaW50c1xuICAgICAgLy8gVGhpcyBpcyBhIHNpbXBsaWZpZWQgZGlzdGFuY2UgY2FsY3VsYXRpb24gZm9yIGRlbW8gcHVycG9zZXNcbiAgICAgIGNvbnN0IGxpbmVMZW5ndGggPSBNYXRoLnNxcnQoKHAyLnggLSBwMS54KSAqKiAyICsgKHAyLnkgLSBwMS55KSAqKiAyKTtcbiAgICAgIGlmIChsaW5lTGVuZ3RoID09PSAwKSBjb250aW51ZTtcbiAgICAgIFxuICAgICAgLy8gUHJvamVjdCBwb2ludCBvbnRvIGxpbmVcbiAgICAgIGNvbnN0IHQgPSAoKHggLSBwMS54KSAqIChwMi54IC0gcDEueCkgKyAoeSAtIHAxLnkpICogKHAyLnkgLSBwMS55KSkgLyAobGluZUxlbmd0aCAqIGxpbmVMZW5ndGgpO1xuICAgICAgXG4gICAgICAvLyBJZiBwcm9qZWN0aW9uIGlzIG91dHNpZGUgdGhlIGxpbmUgc2VnbWVudCwgc2tpcFxuICAgICAgaWYgKHQgPCAwIHx8IHQgPiAxKSBjb250aW51ZTtcbiAgICAgIFxuICAgICAgLy8gQ2FsY3VsYXRlIGNsb3Nlc3QgcG9pbnQgb24gbGluZVxuICAgICAgY29uc3QgY2xvc2VzdFggPSBwMS54ICsgdCAqIChwMi54IC0gcDEueCk7XG4gICAgICBjb25zdCBjbG9zZXN0WSA9IHAxLnkgKyB0ICogKHAyLnkgLSBwMS55KTtcbiAgICAgIFxuICAgICAgLy8gQ2FsY3VsYXRlIGRpc3RhbmNlIHRvIGNsb3Nlc3QgcG9pbnRcbiAgICAgIGNvbnN0IGRpc3RhbmNlID0gTWF0aC5zcXJ0KCh4IC0gY2xvc2VzdFgpICoqIDIgKyAoeSAtIGNsb3Nlc3RZKSAqKiAyKTtcbiAgICAgIFxuICAgICAgaWYgKGRpc3RhbmNlIDwgY2xvc2VzdERpc3RhbmNlICYmIGRpc3RhbmNlIDwgMjApIHtcbiAgICAgICAgY2xvc2VzdERpc3RhbmNlID0gZGlzdGFuY2U7XG4gICAgICAgIGluc2VydEluZGV4ID0gaSArIDE7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIGlmIChpbnNlcnRJbmRleCA+IDApIHtcbiAgICAgIC8vIENyZWF0ZSBhIG5ldyBhcnJheSB3aXRoIHRoZSBuZXcgcG9pbnQgaW5zZXJ0ZWRcbiAgICAgIGNvbnN0IG5ld1BvaW50cyA9IFsuLi50ZW1wUG9pbnRzXTtcbiAgICAgIGNvbnN0IHByZXZQb2ludCA9IG5ld1BvaW50c1tpbnNlcnRJbmRleCAtIDFdO1xuICAgICAgY29uc3QgbmV4dFBvaW50ID0gbmV3UG9pbnRzW2luc2VydEluZGV4XTtcbiAgICAgIFxuICAgICAgLy8gQ3JlYXRlIGEgbmV3IHBvaW50IGF0IHRoZSBjbGljayBwb3NpdGlvbiB3aXRoIGF1dG9tYXRpY2FsbHkgY2FsY3VsYXRlZCBoYW5kbGVzXG4gICAgICBjb25zdCBuZXdQb2ludCA9IHsgXG4gICAgICAgIHgsIFxuICAgICAgICB5LFxuICAgICAgICAvLyBDYWxjdWxhdGUgaGFuZGxlcyBiYXNlZCBvbiB0aGUgcG9zaXRpb25zIG9mIGFkamFjZW50IHBvaW50c1xuICAgICAgICBoYW5kbGVJbjogeyBcbiAgICAgICAgICB4OiAocHJldlBvaW50LnggLSB4KSAqIDAuMjUsIFxuICAgICAgICAgIHk6IChwcmV2UG9pbnQueSAtIHkpICogMC4yNSBcbiAgICAgICAgfSxcbiAgICAgICAgaGFuZGxlT3V0OiB7IFxuICAgICAgICAgIHg6IChuZXh0UG9pbnQueCAtIHgpICogMC4yNSwgXG4gICAgICAgICAgeTogKG5leHRQb2ludC55IC0geSkgKiAwLjI1IFxuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgXG4gICAgICAvLyBJbnNlcnQgdGhlIG5ldyBwb2ludFxuICAgICAgbmV3UG9pbnRzLnNwbGljZShpbnNlcnRJbmRleCwgMCwgbmV3UG9pbnQpO1xuICAgICAgc2V0VGVtcFBvaW50cyhuZXdQb2ludHMpO1xuICAgIH1cbiAgfTtcblxuICAvLyBXcmFwIHRoZSBvcmlnaW5hbCBzdGFydERyYXdpbmcgZnVuY3Rpb24gdG8gaGFuZGxlIGVtcHR5IGNhbnZhc1xuICBjb25zdCBoYW5kbGVTdGFydERyYXdpbmcgPSAoZSkgPT4ge1xuICAgIC8vIENhbGwgdGhlIG9yaWdpbmFsIHN0YXJ0RHJhd2luZyBmdW5jdGlvblxuICAgIHN0YXJ0RHJhd2luZyhlKTtcbiAgICBzZXRIYXNEcmF3aW5nKHRydWUpO1xuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZVwiPlxuICAgICAge2N1cnJlbnRUb29sID09PSAncGVuJyAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LXdyYXAgbWItMiBnYXAtMlwiPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgb25DbGljaz17dG9nZ2xlQmV6aWVyR3VpZGVzfVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtMiBweS0xIGJnLWJsdWUtNTAwIHRleHQtd2hpdGUgcm91bmRlZCB0ZXh0LXNtXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICB7c2hvd0Jlemllckd1aWRlcyA/ICdIaWRlIEd1aWRlcycgOiAnU2hvdyBHdWlkZXMnfVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIFxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0U3ltbWV0cmljKCFzeW1tZXRyaWMpfVxuICAgICAgICAgICAgY2xhc3NOYW1lPXtgcHgtMiBweS0xICR7c3ltbWV0cmljID8gJ2JnLWdyZWVuLTUwMCcgOiAnYmctZ3JheS01MDAnfSB0ZXh0LXdoaXRlIHJvdW5kZWQgdGV4dC1zbWB9XG4gICAgICAgICAgPlxuICAgICAgICAgICAge3N5bW1ldHJpYyA/ICdTeW1tZXRyaWMgSGFuZGxlcycgOiAnRnJlZSBIYW5kbGVzJ31cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICBcbiAgICAgICAgICB7dGVtcFBvaW50cy5sZW5ndGggPj0gMiAmJiAoXG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICBvbkNsaWNrPXtmaW5hbGl6ZUJlemllckN1cnZlfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC0yIHB5LTEgYmctZ3JlZW4tNTAwIHRleHQtd2hpdGUgcm91bmRlZCB0ZXh0LXNtXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgRHJhdyBQYXRoXG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICApfVxuICAgICAgICAgIFxuICAgICAgICAgIHt0ZW1wUG9pbnRzLmxlbmd0aCA+IDAgJiYgKFxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0VGVtcFBvaW50cyhbXSl9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTIgcHktMSBiZy1yZWQtNTAwIHRleHQtd2hpdGUgcm91bmRlZCB0ZXh0LXNtXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgQ2xlYXIgUG9pbnRzXG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICApfVxuICAgICAgICAgIFxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtc20gbWwtMlwiPlxuICAgICAgICAgICAge3RlbXBQb2ludHMubGVuZ3RofSBwb2ludHt0ZW1wUG9pbnRzLmxlbmd0aCAhPT0gMSA/ICdzJyA6ICcnfSBcbiAgICAgICAgICAgIHt0ZW1wUG9pbnRzLmxlbmd0aCA+PSAyID8gJyAocmVhZHkpJyA6ICcgKG5lZWQgMispJ31cbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgdGV4dC14cyB0ZXh0LWdyYXktNjAwIG10LTFcIj5cbiAgICAgICAgICAgIFRpcDogQ2xpY2sgdG8gYWRkIHBvaW50cywgY2xpY2sgKyBkcmFnIGhhbmRsZXMgdG8gYWRqdXN0IGN1cnZlcywgZG91YmxlLWNsaWNrIG9uIHNlZ21lbnRzIHRvIGFkZCBwb2ludHNcbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuICAgICAgXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlXCI+XG4gICAgICAgIDxjYW52YXNcbiAgICAgICAgICByZWY9e2NhbnZhc1JlZn1cbiAgICAgICAgICB3aWR0aD17OTYwfVxuICAgICAgICAgIGhlaWdodD17NTQwfVxuICAgICAgICAgIG9uTW91c2VEb3duPXsoZSkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0NhbnZhcyBvbk1vdXNlRG93bicsIHsgY3VycmVudFRvb2wsIGlzRHJhd2luZyB9KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gRm9yIHBlbiAoYmV6aWVyKSB0b29sLCBoYW5kbGUgZGlmZmVyZW50bHlcbiAgICAgICAgICAgIGlmIChjdXJyZW50VG9vbCA9PT0gJ3BlbicpIHtcbiAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgd2UgY2xpY2tlZCBvbiBhbiBleGlzdGluZyBwb2ludCBvciBoYW5kbGVcbiAgICAgICAgICAgICAgaWYgKCFjaGVja0ZvclBvaW50T3JIYW5kbGUoZSkpIHtcbiAgICAgICAgICAgICAgICAvLyBJZiBub3QgaW50ZXJhY3Rpbmcgd2l0aCBleGlzdGluZyBwb2ludHMvaGFuZGxlcywgYWRkIGEgbmV3IHBvaW50XG4gICAgICAgICAgICAgICAgaGFuZGxlUGVuVG9vbENsaWNrKGUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBGb3Igb3RoZXIgdG9vbHMsIHVzZSB0aGUgcmVndWxhciBkcmF3aW5nIGJlaGF2aW9yXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdFeGVjdXRpbmcgcmVndWxhciBzdGFydERyYXdpbmcgaGFuZGxlcicpO1xuICAgICAgICAgICAgICBoYW5kbGVTdGFydERyYXdpbmcoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfX1cbiAgICAgICAgICBvbk1vdXNlTW92ZT17KGUpID0+IHtcbiAgICAgICAgICAgIC8vIEZvciBwZW4gKGJlemllcikgdG9vbCwgaGFuZGxlIGNvbnRyb2wgcG9pbnQvaGFuZGxlIGRyYWdnaW5nXG4gICAgICAgICAgICBpZiAoY3VycmVudFRvb2wgPT09ICdwZW4nICYmIGhhbmRsZUJlemllck1vdXNlTW92ZShlKSkge1xuICAgICAgICAgICAgICAvLyBJZiB3ZSBoYW5kbGVkIGEgYmV6aWVyIGVsZW1lbnQgbW92ZSwgcmV0dXJuIGVhcmx5XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gRm9yIG90aGVyIHRvb2xzLCB1c2UgcmVndWxhciBkcmF3aW5nXG4gICAgICAgICAgICBkcmF3KGUpO1xuICAgICAgICAgIH19XG4gICAgICAgICAgb25Nb3VzZVVwPXsoZSkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ29uTW91c2VVcCBldmVudCB0cmlnZ2VyZWQnLCB7IGN1cnJlbnRUb29sLCBpc0RyYXdpbmcgfSk7XG4gICAgICAgICAgICBoYW5kbGVTdG9wRHJhd2luZyhlKTtcbiAgICAgICAgICB9fVxuICAgICAgICAgIG9uTW91c2VMZWF2ZT17KGUpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdvbk1vdXNlTGVhdmUgZXZlbnQgdHJpZ2dlcmVkJywgeyBjdXJyZW50VG9vbCwgaXNEcmF3aW5nIH0pO1xuICAgICAgICAgICAgaGFuZGxlU3RvcERyYXdpbmcoZSk7XG4gICAgICAgICAgfX1cbiAgICAgICAgICBvbkRvdWJsZUNsaWNrPXsoZSkgPT4ge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRUb29sID09PSAncGVuJykge1xuICAgICAgICAgICAgICBhZGRDb250cm9sUG9pbnQoZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBoYW5kbGVDYW52YXNDbGljayhlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9fVxuICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUNhbnZhc0NsaWNrfVxuICAgICAgICAgIG9uVG91Y2hTdGFydD17aGFuZGxlU3RhcnREcmF3aW5nfVxuICAgICAgICAgIG9uVG91Y2hNb3ZlPXtkcmF3fVxuICAgICAgICAgIG9uVG91Y2hFbmQ9e2hhbmRsZVN0b3BEcmF3aW5nfVxuICAgICAgICAgIG9uS2V5RG93bj17aGFuZGxlS2V5RG93bn1cbiAgICAgICAgICB0YWJJbmRleD17MH1cbiAgICAgICAgICBjbGFzc05hbWU9e2Bib3JkZXItMiBib3JkZXItYmxhY2sgdy1mdWxsIHNtOmgtWzYwdmhdIGgtWzMwdmhdIG1pbi1oLVszMjBweF0gYmctd2hpdGUvOTAgdG91Y2gtbm9uZSAke1xuICAgICAgICAgICAgY3VycmVudFRvb2wgPT09ICdwZW4nID8gJ2N1cnNvci1jcm9zc2hhaXInIDogJ2hvdmVyOmN1cnNvci1jcm9zc2hhaXInXG4gICAgICAgICAgfWB9XG4gICAgICAgICAgYXJpYS1sYWJlbD1cIkRyYXdpbmcgY2FudmFzXCJcbiAgICAgICAgLz5cbiAgICAgICAgXG4gICAgICAgIHsvKiBQbGFjZWhvbGRlciBvdmVybGF5ICovfVxuICAgICAgICB7IWhhc0RyYXdpbmcgJiYgIWlzRHJhd2luZyAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBpbnNldC0wIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHBvaW50ZXItZXZlbnRzLW5vbmVcIj5cbiAgICAgICAgICAgIDxQZW5jaWxMaW5lIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDAgdGV4dC14bFwiIHNpemU9ezMyfSAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBDYW52YXM7ICJdLCJuYW1lcyI6WyJ1c2VSZWYiLCJ1c2VFZmZlY3QiLCJ1c2VTdGF0ZSIsImdldENvb3JkaW5hdGVzIiwiZHJhd0JlemllckN1cnZlIiwiZHJhd0Jlemllckd1aWRlcyIsImNyZWF0ZUFuY2hvclBvaW50IiwiaXNOZWFySGFuZGxlIiwidXBkYXRlSGFuZGxlIiwiUGVuY2lsTGluZSIsIkNhbnZhcyIsImNhbnZhc1JlZiIsImN1cnJlbnRUb29sIiwiaXNEcmF3aW5nIiwic3RhcnREcmF3aW5nIiwiZHJhdyIsInN0b3BEcmF3aW5nIiwiaGFuZGxlQ2FudmFzQ2xpY2siLCJoYW5kbGVQZW5DbGljayIsImhhbmRsZUdlbmVyYXRpb24iLCJ0ZW1wUG9pbnRzIiwic2V0VGVtcFBvaW50cyIsInNob3dCZXppZXJHdWlkZXMiLCJzZXRTaG93QmV6aWVyR3VpZGVzIiwiYWN0aXZlUG9pbnQiLCJzZXRBY3RpdmVQb2ludCIsImFjdGl2ZUhhbmRsZSIsInNldEFjdGl2ZUhhbmRsZSIsInN5bW1ldHJpYyIsInNldFN5bW1ldHJpYyIsImxhc3RNb3VzZVBvcyIsInNldExhc3RNb3VzZVBvcyIsIngiLCJ5IiwiaGFzRHJhd2luZyIsInNldEhhc0RyYXdpbmciLCJzdHJva2VDb3VudCIsInNldFN0cm9rZUNvdW50IiwicHJldmVudFRvdWNoRGVmYXVsdCIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImNhbnZhcyIsImN1cnJlbnQiLCJhZGRFdmVudExpc3RlbmVyIiwicGFzc2l2ZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJjb25zb2xlIiwibG9nIiwibGVuZ3RoIiwicmVkcmF3QmV6aWVyR3VpZGVzIiwiY3R4IiwiZ2V0Q29udGV4dCIsImltYWdlRGF0YSIsImdldEltYWdlRGF0YSIsIndpZHRoIiwiaGVpZ2h0IiwiaGFzTm9uV2hpdGVQaXhlbHMiLCJBcnJheSIsImZyb20iLCJkYXRhIiwic29tZSIsInBpeGVsIiwiaW5kZXgiLCJoYW5kbGVLZXlEb3duIiwia2V5IiwiY2FudmFzSW1hZ2UiLCJJbWFnZSIsInNyYyIsInRvRGF0YVVSTCIsIm9ubG9hZCIsImNsZWFyUmVjdCIsImRyYXdJbWFnZSIsImhhbmRsZVN0b3BEcmF3aW5nIiwiZXZlbnRUeXBlIiwidHlwZSIsInNldFRpbWVvdXQiLCJlcnJvciIsImlzUGVuVG9vbCIsImlzUGVuY2lsVG9vbCIsIndhc0RyYXdpbmciLCJjaGVja0ZvclBvaW50T3JIYW5kbGUiLCJpIiwicG9pbnQiLCJkaXN0YW5jZSIsIk1hdGgiLCJzcXJ0IiwiaGFuZGxlQmV6aWVyTW91c2VNb3ZlIiwiZHgiLCJkeSIsIm5ld1BvaW50cyIsImhhbmRsZUluIiwiaGFuZGxlT3V0IiwiaGFuZGxlUGVuVG9vbENsaWNrIiwibmV3UG9pbnQiLCJ0b2dnbGVCZXppZXJHdWlkZXMiLCJmaW5hbGl6ZUJlemllckN1cnZlIiwiYWRkQ29udHJvbFBvaW50IiwiY2xvc2VzdERpc3RhbmNlIiwiTnVtYmVyIiwiUE9TSVRJVkVfSU5GSU5JVFkiLCJpbnNlcnRJbmRleCIsInAxIiwicDIiLCJsaW5lTGVuZ3RoIiwidCIsImNsb3Nlc3RYIiwiY2xvc2VzdFkiLCJwcmV2UG9pbnQiLCJuZXh0UG9pbnQiLCJzcGxpY2UiLCJoYW5kbGVTdGFydERyYXdpbmciLCJkaXYiLCJjbGFzc05hbWUiLCJidXR0b24iLCJvbkNsaWNrIiwic3BhbiIsInJlZiIsIm9uTW91c2VEb3duIiwib25Nb3VzZU1vdmUiLCJvbk1vdXNlVXAiLCJvbk1vdXNlTGVhdmUiLCJvbkRvdWJsZUNsaWNrIiwib25Ub3VjaFN0YXJ0Iiwib25Ub3VjaE1vdmUiLCJvblRvdWNoRW5kIiwib25LZXlEb3duIiwidGFiSW5kZXgiLCJhcmlhLWxhYmVsIiwic2l6ZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(pages-dir-browser)/./components/Canvas.js\n"));

/***/ }),

/***/ "(pages-dir-browser)/./node_modules/lucide-react/dist/esm/icons/pencil-line.js":
/*!*****************************************************************!*\
  !*** ./node_modules/lucide-react/dist/esm/icons/pencil-line.js ***!
  \*****************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   __iconNode: () => (/* binding */ __iconNode),\n/* harmony export */   \"default\": () => (/* binding */ PencilLine)\n/* harmony export */ });\n/* harmony import */ var _createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../createLucideIcon.js */ \"(pages-dir-browser)/./node_modules/lucide-react/dist/esm/createLucideIcon.js\");\n/**\n * @license lucide-react v0.483.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */ \nconst __iconNode = [\n    [\n        \"path\",\n        {\n            d: \"M12 20h9\",\n            key: \"t2du7b\"\n        }\n    ],\n    [\n        \"path\",\n        {\n            d: \"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z\",\n            key: \"1ykcvy\"\n        }\n    ],\n    [\n        \"path\",\n        {\n            d: \"m15 5 3 3\",\n            key: \"1w25hb\"\n        }\n    ]\n];\nconst PencilLine = (0,_createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"PencilLine\", __iconNode);\n //# sourceMappingURL=pencil-line.js.map\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9sdWNpZGUtcmVhY3QvZGlzdC9lc20vaWNvbnMvcGVuY2lsLWxpbmUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBR08sTUFBTSxVQUF1QjtJQUNsQztRQUFDLE1BQVE7UUFBQTtZQUFFLEdBQUcsQ0FBWTtZQUFBLEtBQUs7UUFBQSxDQUFVO0tBQUE7SUFDekM7UUFDRTtRQUNBO1lBQ0UsQ0FBRztZQUNILEdBQUs7UUFDUDtLQUNGO0lBQ0E7UUFBQyxNQUFRO1FBQUE7WUFBRSxHQUFHLENBQWE7WUFBQSxLQUFLO1FBQUEsQ0FBVTtLQUFBO0NBQzVDO0FBYU0saUJBQWEsa0VBQWlCLGVBQWMsQ0FBVSIsInNvdXJjZXMiOlsiL1VzZXJzL3NyYy9pY29ucy9wZW5jaWwtbGluZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgY3JlYXRlTHVjaWRlSWNvbiBmcm9tICcuLi9jcmVhdGVMdWNpZGVJY29uJztcbmltcG9ydCB7IEljb25Ob2RlIH0gZnJvbSAnLi4vdHlwZXMnO1xuXG5leHBvcnQgY29uc3QgX19pY29uTm9kZTogSWNvbk5vZGUgPSBbXG4gIFsncGF0aCcsIHsgZDogJ00xMiAyMGg5Jywga2V5OiAndDJkdTdiJyB9XSxcbiAgW1xuICAgICdwYXRoJyxcbiAgICB7XG4gICAgICBkOiAnTTE2LjM3NiAzLjYyMmExIDEgMCAwIDEgMy4wMDIgMy4wMDJMNy4zNjggMTguNjM1YTIgMiAwIDAgMS0uODU1LjUwNmwtMi44NzIuODM4YS41LjUgMCAwIDEtLjYyLS42MmwuODM4LTIuODcyYTIgMiAwIDAgMSAuNTA2LS44NTR6JyxcbiAgICAgIGtleTogJzF5a2N2eScsXG4gICAgfSxcbiAgXSxcbiAgWydwYXRoJywgeyBkOiAnbTE1IDUgMyAzJywga2V5OiAnMXcyNWhiJyB9XSxcbl07XG5cbi8qKlxuICogQGNvbXBvbmVudCBAbmFtZSBQZW5jaWxMaW5lXG4gKiBAZGVzY3JpcHRpb24gTHVjaWRlIFNWRyBpY29uIGNvbXBvbmVudCwgcmVuZGVycyBTVkcgRWxlbWVudCB3aXRoIGNoaWxkcmVuLlxuICpcbiAqIEBwcmV2aWV3ICFbaW1nXShkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUFnZUcxc2JuTTlJbWgwZEhBNkx5OTNkM2N1ZHpNdWIzSm5Mekl3TURBdmMzWm5JZ29nSUhkcFpIUm9QU0l5TkNJS0lDQm9aV2xuYUhROUlqSTBJZ29nSUhacFpYZENiM2c5SWpBZ01DQXlOQ0F5TkNJS0lDQm1hV3hzUFNKdWIyNWxJZ29nSUhOMGNtOXJaVDBpSXpBd01DSWdjM1I1YkdVOUltSmhZMnRuY205MWJtUXRZMjlzYjNJNklDTm1abVk3SUdKdmNtUmxjaTF5WVdScGRYTTZJREp3ZUNJS0lDQnpkSEp2YTJVdGQybGtkR2c5SWpJaUNpQWdjM1J5YjJ0bExXeHBibVZqWVhBOUluSnZkVzVrSWdvZ0lITjBjbTlyWlMxc2FXNWxhbTlwYmowaWNtOTFibVFpQ2o0S0lDQThjR0YwYUNCa1BTSk5NVElnTWpCb09TSWdMejRLSUNBOGNHRjBhQ0JrUFNKTk1UWXVNemMySURNdU5qSXlZVEVnTVNBd0lEQWdNU0F6TGpBd01pQXpMakF3TWt3M0xqTTJPQ0F4T0M0Mk16VmhNaUF5SURBZ01DQXhMUzQ0TlRVdU5UQTJiQzB5TGpnM01pNDRNemhoTGpVdU5TQXdJREFnTVMwdU5qSXRMall5YkM0NE16Z3RNaTQ0TnpKaE1pQXlJREFnTUNBeElDNDFNRFl0TGpnMU5Ib2lJQzgrQ2lBZ1BIQmhkR2dnWkQwaWJURTFJRFVnTXlBeklpQXZQZ284TDNOMlp6NEspIC0gaHR0cHM6Ly9sdWNpZGUuZGV2L2ljb25zL3BlbmNpbC1saW5lXG4gKiBAc2VlIGh0dHBzOi8vbHVjaWRlLmRldi9ndWlkZS9wYWNrYWdlcy9sdWNpZGUtcmVhY3QgLSBEb2N1bWVudGF0aW9uXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHByb3BzIC0gTHVjaWRlIGljb25zIHByb3BzIGFuZCBhbnkgdmFsaWQgU1ZHIGF0dHJpYnV0ZVxuICogQHJldHVybnMge0pTWC5FbGVtZW50fSBKU1ggRWxlbWVudFxuICpcbiAqL1xuY29uc3QgUGVuY2lsTGluZSA9IGNyZWF0ZUx1Y2lkZUljb24oJ1BlbmNpbExpbmUnLCBfX2ljb25Ob2RlKTtcblxuZXhwb3J0IGRlZmF1bHQgUGVuY2lsTGluZTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(pages-dir-browser)/./node_modules/lucide-react/dist/esm/icons/pencil-line.js\n"));

/***/ }),

/***/ "(pages-dir-browser)/__barrel_optimize__?names=PencilLine!=!./node_modules/lucide-react/dist/esm/lucide-react.js":
/*!***************************************************************************************************!*\
  !*** __barrel_optimize__?names=PencilLine!=!./node_modules/lucide-react/dist/esm/lucide-react.js ***!
  \***************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PencilLine: () => (/* reexport safe */ _icons_pencil_line_js__WEBPACK_IMPORTED_MODULE_0__["default"])
/* harmony export */ });
/* harmony import */ var _icons_pencil_line_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./icons/pencil-line.js */ "(pages-dir-browser)/./node_modules/lucide-react/dist/esm/icons/pencil-line.js");



/***/ })

});